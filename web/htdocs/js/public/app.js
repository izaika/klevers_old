// Generated by CoffeeScript 1.10.0
define('app', ['jquery'], function($) {
  var app;
  $.fn.scrollable_element = function() {
    return this.map(function() {
      var doc, elem, isWin;
      elem = this;
      isWin = !elem.nodeName || $.inArray(elem.nodeName.toLowerCase(), ['iframe', '#document', 'html', 'body']) !== -1;
      if (!isWin) {
        return elem;
      }
      doc = (elem.contentWindow || elem).document || elem.ownerDocument || elem;
      if (/webkit/i.test(navigator.userAgent) || doc.compatMode === 'BackCompat') {
        return doc.body;
      } else {
        return doc.documentElement;
      }
    });
  };
  return app = {
    url: function(rel_url) {
      return this.base_url + rel_url.replace(/^\/+/, "");
    },
    jsonURL: function(url) {
      var result;
      result = url;
      if (!result) {
        result = document.location.href;
      }
      if (result.indexOf('?') === -1) {
        result += '?';
      }
      if (result.substr(-1) !== '?') {
        result += '&';
      }
      result += '___xhr';
      return result;
    },
    base_url: void 0,
    window: void 0,
    html: void 0,
    body: void 0,
    module: void 0,
    scrollable_element: void 0,
    menu_btn: void 0,
    menu_overlay: void 0,
    to_top_link: void 0,
    document: void 0,
    footer: void 0,
    facebook_link: void 0,
    instagram_link: void 0,
    linkedin_link: void 0,
    pdf: void 0,
    init: function() {
      this.base_url = $('body').data('base-url').replace(/\/+$/, "") + "/";
      this.window = $(window);
      this.html = $('html');
      this.body = $('body');
      this.module = $('main');
      this.scrollable_element = $(window).scrollable_element();
      $('.initially-hidden').removeClass("initially-hidden").hide();
      switch (this.module.attr('id')) {
        case 'index':
          return require(['cs!pages/index'], function(index) {
            return index.init();
          });
        case 'exception404':
          return require(['cs!pages/exception404'], function(exception404) {
            return exception404.init();
          });
      }
    }
  };
});
